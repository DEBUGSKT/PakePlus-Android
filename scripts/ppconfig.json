{"name":"SKT","url":"http://zyhsktzz.xyz/","showName":"熊兽社区","appid":"com.SKT.app","icon":"","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":false,"version":"2.2.6","preview":"Android","platform":["1-1"],"width":412,"height":915,"desc":"","jsFile":[],"filterCss":"","customJs":"// 卡密购买弹窗 - 会话限弹2次版\n(function() {\n    // 1. 域名和路径判断 - 仅在zyhsktzz.xyz首页注入\n    const currentHost = window.location.hostname;\n    const currentPath = window.location.pathname;\n    \n    // 验证是否为目标域名的首页\n    const isTargetHomepage = \n        currentHost === 'zyhsktzz.xyz' &&  // 匹配域名\n        (currentPath === '/' || currentPath === '');  // 匹配首页路径\n    \n    // 如果不是目标首页，直接退出\n    if (!isTargetHomepage) {\n        console.log('非目标首页，不注入弹窗');\n        return;\n    }\n\n    // 2. 会话内弹窗计数逻辑\n    const POPUP_LIMIT = 2; // 限制弹窗次数\n    const STORAGE_KEY = 'popup_counter';\n    \n    // 读取会话内已弹窗次数\n    let popupCount = parseInt(sessionStorage.getItem(STORAGE_KEY) || '0');\n    \n    // 如果已达到限制次数，不再显示弹窗\n    if (popupCount >= POPUP_LIMIT) {\n        console.log(`本次会话已达到弹窗次数限制(${POPUP_LIMIT}次)，不再显示`);\n        return;\n    }\n\n    // 防止重复注入\n    if (window.__PAKE_KEY_POPUP__) return;\n    window.__PAKE_KEY_POPUP__ = true;\n\n    // 购买链接和激活链接\n    const BUY_URL = \"https://918.pouir.cn/links/F2F1A946\";\n    const ACTIVATE_URL = \"http://zyhsktzz.xyz/member/card_pwd.html\";\n    \n    // 创建弹窗\n    function createAuthPopup() {\n        const popup = document.createElement('div');\n        popup.id = 'pake-key-popup';\n        popup.style.cssText = `\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: rgba(0,0,0,0.7);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            z-index: 999999;\n            padding: 20px;\n            box-sizing: border-box;\n            backdrop-filter: blur(2px);\n            transition: opacity 0.3s ease;\n        `;\n        \n        // 弹窗内容\n        popup.innerHTML = `\n            <div style=\"\n                background: white;\n                padding: 24px 18px;\n                border-radius: 12px;\n                width: 100%;\n                max-width: 90%;\n                text-align: center;\n                box-shadow: 0 10px 25px rgba(0,0,0,0.2);\n                position: relative;\n            \">\n                <button id=\"pake-close-btn\" style=\"\n                    position: absolute;\n                    top: 8px;\n                    right: 8px;\n                    background: transparent;\n                    border: none;\n                    font-size: 28px;\n                    color: #9ca3af;\n                    cursor: pointer;\n                    padding: 8px;\n                    width: 44px;\n                    height: 44px;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    z-index: 10;\n                \">\n                    ×\n                </button>\n                \n                <div style=\"margin: 24px 0 20px;\">\n                    <div style=\"\n                        background: #f3f4f6;\n                        padding: 12px 16px;\n                        border-radius: 8px;\n                        margin-bottom: 16px;\n                        overflow: hidden;\n                    \">\n                        <input type=\"text\" readonly \n                               value=\"${BUY_URL}\" \n                               style=\"\n                                   width: 100%; \n                                   font-size: 14px; \n                                   border: none;\n                                   background: transparent;\n                                   outline: none;\n                                   text-align: center;\n                                   word-break: break-all;\n                               \"\n                               id=\"pake-url-input\">\n                    </div>\n                    <button id=\"pake-copy-btn\" style=\"\n                        background: #48bb78;\n                        color: white;\n                        border: none;\n                        padding: 12px 16px;\n                        border-radius: 8px;\n                        cursor: pointer;\n                        font-size: 16px;\n                        width: 100%;\n                        font-weight: 500;\n                        box-shadow: 0 4px 6px -1px rgba(72, 187, 120, 0.4);\n                    \">\n                        复制购买链接\n                    </button>\n                </div>\n                <button id=\"pake-open-btn\" style=\"\n                    background: #3b82f6;\n                    color: white;\n                    border: none;\n                    padding: 14px 16px;\n                    font-size: 18px;\n                    border-radius: 8px;\n                    cursor: pointer;\n                    width: 100%;\n                    font-weight: 600;\n                    box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.4);\n                \">\n                    立即前往购买\n                </button>\n                \n                <!-- 激活卡密按钮 -->\n                <button id=\"pake-activate-btn\" style=\"\n                    background: transparent;\n                    border: none;\n                    color: #8b5cf6;\n                    font-size: 16px;\n                    cursor: pointer;\n                    padding: 8px 0;\n                    margin: 12px 0;\n                    font-weight: 500;\n                    text-decoration: underline;\n                \">\n                    已购买？点击此处激活卡密\n                </button>\n                \n                <div style=\"margin-top: 8px; font-size: 12px; color: #6b7280;\">\n                    点击上方按钮获取卡密激活软件 \n                </div>\n            </div>\n        `;\n        \n        document.body.appendChild(popup);\n        \n        // 关闭弹窗函数\n        function closePopup() {\n            popup.style.opacity = '0';\n            setTimeout(() => {\n                if (document.body.contains(popup)) {\n                    document.body.removeChild(popup);\n                }\n            }, 300);\n        }\n        \n        // 关闭按钮功能\n        const closeBtn = popup.querySelector('#pake-close-btn');\n        closeBtn.addEventListener('click', () => {\n            closePopup();\n            incrementPopupCount(); // 记录关闭操作\n        });\n        \n        // 复制功能\n        const copyBtn = popup.querySelector('#pake-copy-btn');\n        const urlInput = popup.querySelector('#pake-url-input');\n        copyBtn.addEventListener('click', () => {\n            urlInput.select();\n            \n            if (navigator.clipboard) {\n                navigator.clipboard.writeText(BUY_URL)\n                    .then(() => showToast('链接已复制到剪贴板'))\n                    .catch(err => {\n                        console.error('复制失败:', err);\n                        showToast('复制失败，请手动复制');\n                    });\n            } else {\n                const successful = document.execCommand('copy');\n                showToast(successful ? '链接已复制到剪贴板' : '复制失败，请手动复制');\n            }\n            \n            copyBtn.style.backgroundColor = '#10b981';\n            setTimeout(() => {\n                copyBtn.style.backgroundColor = '#48bb78';\n            }, 300);\n        });\n        \n        // 购买按钮点击（外部浏览器打开）\n        const openBtn = popup.querySelector('#pake-open-btn');\n        openBtn.addEventListener('click', () => {\n            openExternalUrl(BUY_URL);\n            openBtn.style.backgroundColor = '#2563eb';\n            setTimeout(() => {\n                openBtn.style.backgroundColor = '#3b82f6';\n            }, 300);\n            incrementPopupCount(); // 记录购买操作\n        });\n        \n        // 激活卡密按钮点击（关闭弹窗+当前页跳转）\n        const activateBtn = popup.querySelector('#pake-activate-btn');\n        activateBtn.addEventListener('click', () => {\n            closePopup();\n            setTimeout(() => {\n                window.location.href = ACTIVATE_URL;\n            }, 300);\n            \n            activateBtn.style.opacity = '0.7';\n            setTimeout(() => {\n                activateBtn.style.opacity = '1';\n            }, 300);\n            incrementPopupCount(); // 记录激活操作\n        });\n        \n        // 外部链接打开函数\n        function openExternalUrl(url) {\n            if (window.__TAURI__) {\n                window.__TAURI__.shell.open(url).catch(err => {\n                    console.error('TAURI打开失败:', err);\n                    fallbackOpen(url);\n                });\n            } else if (window.android && typeof window.android.openUrl === 'function') {\n                try {\n                    window.android.openUrl(url);\n                } catch (err) {\n                    console.error('Android打开失败:', err);\n                    fallbackOpen(url);\n                }\n            } else if (window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.openUrl) {\n                try {\n                    window.webkit.messageHandlers.openUrl.postMessage(url);\n                } catch (err) {\n                    console.error('iOS打开失败:', err);\n                    fallbackOpen(url);\n                }\n            } else {\n                fallbackOpen(url);\n            }\n        }\n        \n        // 外部链接打开降级方案\n        function fallbackOpen(url) {\n            try {\n                const newWindow = window.open(url, '_blank');\n                if (newWindow) newWindow.focus();\n                else window.location.href = url;\n            } catch (err) {\n                console.error('打开失败:', err);\n                showToast('无法打开链接，请手动复制');\n            }\n        }\n        \n        // 提示信息函数\n        function showToast(message) {\n            const toast = document.createElement('div');\n            toast.style.cssText = `\n                position: fixed;\n                bottom: 40px;\n                left: 50%;\n                transform: translateX(-50%);\n                background: rgba(0,0,0,0.8);\n                color: white;\n                padding: 10px 16px;\n                border-radius: 8px;\n                font-size: 14px;\n                z-index: 9999999;\n                opacity: 0;\n                transition: opacity 0.3s;\n            `;\n            toast.textContent = message;\n            document.body.appendChild(toast);\n            \n            setTimeout(() => toast.style.opacity = '1', 10);\n            setTimeout(() => {\n                toast.style.opacity = '0';\n                setTimeout(() => document.body.removeChild(toast), 300);\n            }, 2000);\n        }\n        \n        // 增加弹窗计数\n        function incrementPopupCount() {\n            popupCount++;\n            sessionStorage.setItem(STORAGE_KEY, popupCount.toString());\n            console.log(`弹窗计数已更新为 ${popupCount}/${POPUP_LIMIT}`);\n        }\n        \n        // 触摸反馈\n        [copyBtn, openBtn, closeBtn, activateBtn].forEach(element => {\n            element.addEventListener('touchstart', () => {\n                element.style.transform = 'scale(0.95)';\n                element.style.opacity = '0.8';\n            });\n            element.addEventListener('touchend', () => {\n                element.style.transform = 'scale(1)';\n                element.style.opacity = '1';\n            });\n        });\n    }\n    \n    // 页面加载完成后在首页显示弹窗\n    if (isTargetHomepage) {\n        // 显示弹窗前先增加计数\n        console.log(`显示弹窗 ${popupCount + 1}/${POPUP_LIMIT}`);\n        \n        if (document.readyState === 'complete' || document.readyState === 'interactive') {\n            createAuthPopup();\n        } else {\n            window.addEventListener('load', createAuthPopup);\n        }\n        \n        // 更新计数（无论用户是否操作，只要显示就算一次）\n        incrementPopupCount();\n    }\n})();","isHtml":false,"htmlPath":"","htmlFiles":[],"more":{"windows":{"label":"","title":"熊兽社区 ","url":"http://zyhsktzz.xyz/","userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Mobile Safari/537.36","width":412,"height":650,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":false,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":false,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false}},"phone":{"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"SKT","showName":"熊兽社区","version":"2.2.6","webUrl":"http://zyhsktzz.xyz/","id":"com.SKT.app.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false},"android":{"name":"SKT","showName":"熊兽社区","version":"2.2.6","webUrl":"http://zyhsktzz.xyz/","id":"com.SKT.app.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false},"desktop":{"name":"SKT","showName":"熊兽社区","version":"2.2.6","id":"com.SKT.app.desktop","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途，否则后果自负）","webUrl":"http://zyhsktzz.xyz/","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途，否则后果自负）","isHtml":false,"single":true,"state":true,"injectJq":false,"tauriApi":false,"buildMethod":"local","debug":false}}